import React from 'react'
import { connect } from 'react-redux'
import { bindActionCreators } from 'redux'

import { onSearch } from './searchReducer'
import { getProcessList } from '../processList/processListActions'

const _KEY_ = "__VA_K"

class Layout extends React.Component {
   constructor(props) {
      super(props)
      this.state = { apiKey: localStorage.getItem(_KEY_) }
      this.onApiKeyChange = this.onApiKeyChange.bind(this)
   }

   onApiKeyChange(e) {
      this.setState({ apiKey: e.target.value })
      localStorage.setItem(_KEY_, e.target.value)
   }

   render() {
      return (
         <div>
            <nav className="navbar navbar-expand-lg navbar-dark bg-dark justify-content-between">
               <a className="navbar-brand" href="#">Process list</a>
               {/* <button className="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <span className="navbar-toggler-icon"></span>
               </button> */}
               {/* <div className="row">
               <div className="col">
               test
               </div>
            </div> */}
               {/* <div className="form-inline my-2 my-lg-0" style={{width: '500px'}}>
                  <input style={{width: '100%'}} className="form-control mr-sm-2" type="search" placeholder="Virus Total API key" aria-label="Virus Total API key" value={this.state.apiKey} onChange={this.onApiKeyChange} />
                  <button className="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
               </div> */}
            </nav>
            <div className="row">
            <div className="col-12">
               {this.props.children}
            </div>
            </div>
         </div>
      )
   }
}

const mapStateToProps = globalState => ({
   searchText: globalState.search.text
})

const mapActionToProps = dispatch => bindActionCreators({ onSearch, getProcessList }, dispatch)

export default connect(mapStateToProps, mapActionToProps)(Layout)