type PathAndArgs = {
  path: string;
  args: string;
};

export function getPathAndArgs(str: string): PathAndArgs {
  const regex = /["']/g;
  let startIndex = str.length;
  const argSeparators = ["-", "/"];
  for (let i = 0; i < argSeparators.length; i++) {
    const indx = str.indexOf(argSeparators[i]);
    const prevChar = str[indx - 1];
    if (indx >= 0 && indx < startIndex && prevChar === " ") {
      startIndex = indx;
    }
  }

  let path = str;
  let args = "";

  if (startIndex !== str.length) {
    path = str.substring(0, startIndex - 1);
    args = str.substring(startIndex);
  }

  return {
    path: path.trim().replaceAll(regex, ""),
    args,
  };
}
